### HTTP
#### HTTP 常见面试题

<div align="left"><img width="500" src="images/2023-03-20-21-32-52.png"/></div>

##### 1. HTTP 基本概念
- 超文本传输协议
- 常见状态码
  - 2xx 成功
  - 3xx 重定向
  - 4xx 客户端错误，请求报文有误
  - 5xx 服务器错误
- 常见字段
  - Host字段
  - Content-Length 字段
  - Connectin 字段
  
##### 2. GET与POST
- GET 方法是安全且幂等的，因为它是**只读**操作
- POST 方法是不安全，不幂等的，因为是**新增或提交数据**

##### HTTP 缓存技术
强制缓存和协商缓存技术

##### HTTP 特性
1. 优点：简单，灵活可扩展
2. 缺点：无状态（可解决方案：Cookie技术），明文传输（可解决方案：使用HPPTS，也就是通过引入SSL/TLS层保障信息安全）

#### HTTP与RPC
##### 服务发现
- HTTP通过DNS服务解析出IP地址
- RPC会有专门的中间服务去保存服务名和IP信息，比如Consul或者Etcd，甚至是Redis

##### 底层连接形式
- HTTP默认底层一直保持TCP连接（keep alive）
- RPC也是通过TCP建立连接，并且一般会建一个连接池，有利于提升网络请求性能


##### 传输内容
RPC定制化程度更高，序列化协议的体积更小，性能也会更好一点

#### 服务器如何主动发消息给客户端
- 使用HTTP不断轮询
以扫码登陆为例，不断向后端服务器询问，以大概1到2秒的间隔去不断发出请求
- 长轮询
在一定时间内，只要服务器收到了请求，就立马返回给客户端网页，这样就减少了HTTP的请求次数

像这种服务器将数据推送给浏览器的技术，就是**服务器推送技术**。上面这两种方案本质上，还是客户端主动去取数据。
#### WebSocket
##### 应用场景
一个基于TCP的新的应用层协议，可以应用于客户端和服务器之间都要互相主动发大量数据的场景
#### 如何建立WebSocket连接
浏览器在利用HTTP协议通信的过程中，如果想要建立WebSocket连接，需要**在HTTP请求中加上特殊的header头**，在一来一回两次握手后WebSocket就建立完成了。
